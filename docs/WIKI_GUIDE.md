# Wiki Guide and Curation Template

This guide explains the wiki layout, what is mirrored from the repo, and how to curate content. Use it as a template across repos.

## Goals

- Keep the repo as the source of truth; mirror to wiki for browsability
- Curate high-signal overview pages while preserving detailed docs under Docs/
- Automate updates after deploys or on demand

## Layout (Wiki)

- Home: generated from `MASTER_INDEX.md` or `docs/INDEX.md`
- \_Sidebar: Overview, Architecture, Runbooks, Testing, Workflows, Growth, Snapshots
- Architecture/: mirrors `docs/architecture/`
- Runbooks/: mirrors `docs/runbooks/`
- Testing/: mirrors `docs/testing/`
- Growth/: mirrors `docs/growth/` (weekly logs, progress page)
- Docs/: mirrors remaining `docs/**` (excluding mapped folders); `_Index.md` is autogenerated
- Workflows/Overview.md: autogenerated list of `.github/workflows/*.yml`

## Curation Rules

- Author content in `docs/**`; avoid writing directly in the wiki
- Promote foundational docs to dedicated sections
- Keep historical/progress logs under `docs/growth/`
- Maintain an ADR index under `docs/adr/`
- Keep `docs/INDEX.md` current; it becomes the wiki Home

## Tracked Folders

- Mapped: `docs/architecture`, `docs/runbooks`, `docs/testing`, `docs/growth`, `docs/ui-snapshots`
- Catch‑all: other files in `docs/**` → `wiki/Docs/`

## Automation

- Workflow: `99 → Support Automation` with action `update-wiki`
- Mirrors mapped folders; builds overview pages and indices
- Writes using `GITHUB_TOKEN` with `contents: write`

## Extend / Customize

- Adjust folder mapping in `.wiki-sync.yml` (see below)
- Add additional generated pages (e.g., metrics, dashboards)

## For AI Agents

- Respect `.wiki-sync.yml` for mapping
- Prefer `docs/**` as the write location; the wiki is derived
- Do not duplicate files between mapped folders and Docs/

---

# .wiki-sync.yml (template)

```yaml
# Controls what the wiki sync mirrors and where
home:
  prefer:
    - MASTER_INDEX.md
    - docs/INDEX.md
sections:
  Architecture:
    from: docs/architecture
  Runbooks:
    from: docs/runbooks
  Testing:
    from: docs/testing
  Growth:
    from: docs/growth
  Snapshots:
    from: docs/ui-snapshots
catch_all:
  from: docs
  to: Docs
  exclude:
    - architecture/
    - runbooks/
    - testing/
    - growth/
    - ui-snapshots/
indexes:
  - path: Workflows/Overview.md
    type: workflows
  - path: Docs/_Index.md
    type: tree
progress_page:
  path: Growth/Progress-Last-4-Weeks.md
  since: '4 weeks ago'
```

Usage: copy this file to the repo root and update folders as needed. The current workflow is already compatible (hard‑coded for now); we can later read this config to drive the mapping.
